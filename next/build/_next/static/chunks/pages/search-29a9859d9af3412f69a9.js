(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603,179],{5211:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var r=t(5893);function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var s=t(4036),a=t.n(s),c=t(7294),o=c.createContext({});o.Consumer,o.Provider;function l(e,n){var t=(0,c.useContext)(o);return e||t[n]||n}var u=["bsPrefix","variant","animation","size","children","as","className"],d=c.forwardRef((function(e,n){var t=e.bsPrefix,r=e.variant,s=e.animation,o=e.size,d=e.children,h=e.as,p=void 0===h?"div":h,f=e.className,m=function(e,n){if(null==e)return{};var t,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,u),v=(t=l(t,"spinner"))+"-"+s;return c.createElement(p,i({ref:n},m,{className:a()(f,v,o&&v+"-"+o,r&&"text-"+r)}),d)}));d.displayName="Spinner";var h=d;function p(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{id:"emptySpace"}),(0,r.jsx)("div",{id:"loadinggg",children:(0,r.jsx)(h,{id:"spinner",animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"}})})]})}},2011:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var r=t(5893),i=t(7757),s=t.n(i),a=t(2137),c=t(1163),o=t(7294),l=t(9669),u=t.n(l),d=t(1664),h=t(9008),p=t(5211);function f(){var e=(0,c.useRouter)(),n=e.query.q,t=(0,o.useState)(),i=t[0],l=t[1],f=(0,o.useState)(),m=f[0],v=f[1],x=(0,o.useState)(!0),g=x[0],j=x[1],y=(0,o.useState)([]),b=y[0],w=y[1],N=(0,o.useRef)();var _=(0,o.useReducer)((function(e,t){switch(t.type){case"input":return l(m||n),{loading:!0};case"finish":return{loading:!1};default:throw new Error}}),{loading:!1}),k=_[0],S=_[1];(0,o.useEffect)((function(){window.scrollTo(0,0),S({type:"input"});var e=function(){var e=(0,a.Z)(s().mark((function e(n,t){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,u().get("https://api.themoviedb.org/3/search/".concat(n,"?api_key=2050ac8db077eda8b90b74a0f1423975&query=").concat(t,"&include_adult=false"));case 3:r=e.sent,i=r.data,console.log(i),w(i.results),S({type:"finish"}),window.scrollBy({top:N.current.offsetTop-window.scrollY-100,behavior:"smooth"});case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();g&&i?e("movie",i):!g&&i?e("tv",i):S({type:"finish"})}),[g,i]);var C=function(){j(!g)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.default,{children:(0,r.jsx)("title",{children:"MovieInfo | Search"})}),k.loading?(0,r.jsx)(p.Z,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("main",{className:"result",children:(0,r.jsxs)("section",{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)(d.default,{href:"/",children:"Home"})," / ",(0,r.jsx)(d.default,{href:"/search",children:"Search"})]}),(0,r.jsx)("h2",{id:"resultpath",children:"Search"}),(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("form",{children:[(0,r.jsx)("input",{type:"text",placeholder:"Search by name...",id:"movieNameInput",onChange:function(e){return v(e.target.value)}}),(0,r.jsx)("button",{type:"submit",id:"searchButton",onClick:function(n){n.preventDefault(),m&&l(m),m&&e.push("/search?q=".concat(m))},children:"Search"})]})})]})}),(0,r.jsxs)("section",{className:"content",children:[(0,r.jsxs)("div",{id:"content-type",ref:N,children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"radio",hidden:!0,checked:g,id:"type-movie",className:"type-input",name:"type",readOnly:!0}),(0,r.jsx)("div",{id:"typemovie",className:"movieType",onClick:C,children:"Movies"})]}),(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"radio",hidden:!0,id:"type-serie",className:"type-input",name:"type",checked:!g,readOnly:!0}),(0,r.jsx)("div",{id:"typeserie",className:"movieType",onClick:C,children:"TV shows"})]})]}),(0,r.jsx)("section",{id:"resultContainer",children:i?0!==b.length?(0,r.jsx)("section",{className:"figuresContainer",children:b.map((function(e){return(0,r.jsx)(d.default,{href:g?"/details/movie/".concat(e.id):"/details/tv/".concat(e.id),children:(0,r.jsxs)("figure",{children:[(0,r.jsx)("img",{src:e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):e.backdrop_path?"https://image.tmdb.org/t/p/w500".concat(e.backdrop_path):"/next/build/static/images/no-image.png",alt:e.id}),(0,r.jsx)("figcaption",{children:e.original_title||e.original_name})]})},e.id)}))}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:"No movies"}),(0,r.jsx)("img",{className:"duck",src:"/next/build/static/images/duck.gif",alt:"duck"})]}):(0,r.jsx)("h1",{children:"Search something"})})]})]})]})}},8161:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return t(2011)}])},4036:function(e,n){var t;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var s=typeof t;if("string"===s||"number"===s)e.push(t);else if(Array.isArray(t)){if(t.length){var a=i.apply(null,t);a&&e.push(a)}}else if("object"===s)if(t.toString===Object.prototype.toString)for(var c in t)r.call(t,c)&&t[c]&&e.push(c);else e.push(t.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(t=function(){return i}.apply(n,[]))||(e.exports=t)}()},4453:function(){}},function(e){e.O(0,[774,282,996,34],(function(){return n=8161,e(e.s=n);var n}));var n=e.O();_N_E=n}]);